%\documentclass[12pt,a4paper]{article}
\documentclass[german,bibnum,beleg,zihtitle,german,hyperref,utf8]{zihpub}
\author{Maximilian Knespel}
\betreuer{Dipl.-Inf. Nico Hoffmann}
\title{Belegarbeit Computational Science and Engineering\\Verteilte GPGPU-Berechnungen mit Spark }
\date{}
\bibfiles{literatur}

\usepackage[german,onelanguage]{algorithm2e}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
	% if you don't use \usepackage[T1]{fontenc},
    % - Words containing accented characters (ö,...) cannot be automatically hyphenated,
    % - You cannot properly copy-and-paste srom the output (DVI/PS/PDF),
    % - Characters like the pipe sign, less than and greater sign give unexpected results in text.
\usepackage{lmodern}  % Vector Fonts even when using T1 !
%\usepackage[ngerman]{babel}
\usepackage[dvipsnames,cmyk,table]{xcolor} % xcolor and more colornames, cymk for printing
\usepackage{cmap} % pro­vides char­ac­ter map ta­bles, which makes PDFs search­able and copy-able (I don't see a difference yet!!!)
\usepackage[labelfont=bf,format=plain]{caption} % allows captions in non-figure environments with \captionof and \captionsetup
\usepackage[binary-units=true]{siunitx}    % SI units paper conform with \SI{3}{\nano\seconds}
\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\usepackage{listings}   % source code listings
\usepackage{textcomp}
\usepackage{courier}
\usepackage{float}      % enables \begin{figure}[H] to disable floating figure
\usepackage{ulem}

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\footnotesize\ttfamily, % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
%  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=false,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  %frame=single,                    % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  morekeywords={*,...},            % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,                       % sets default tabsize to 2 spaces
  title=\lstname,                  % show the filename of files included with \lstinputlisting; also try caption instead of title
  xleftmargin=.25in,               % indent listings by default
  upquote=true                     % single quotes '' appear straight instead of as backticks. Needs textcomp
}

\usepackage{amsmath, amsthm, amssymb}
\allowdisplaybreaks
\setlength\parindent{0pt} % stop indenting every paragraph by 1cm. It looks awful!
\usepackage{esint} % for oiint
\usepackage{attachfile} % insert attachments into pdf O_O

%\usepackage{pdfpages}   % include single pages from larger pdfs (this is a pdfxcviewerpro feature, it's cool that latex can do this for free!!)

\usepackage{enumitem}
\setitemize{itemsep=0pt,topsep=3pt}
\setenumerate{itemsep=0pt,topsep=3pt}

% http://tex.stackexchange.com/questions/2644/how-to-prevent-a-page-break-before-an-itemize-list
\makeatletter
\newcommand{\nolisttopbreak}{\vspace{\topsep}\nobreak\@afterheading}
\makeatother


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% main part
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\hyphenchar\font=\string"7F % make "= unneeded
%\hyphenation{Kon-fi-gu-ra-ti-ons-tool} % why isn't this working damn it!?

% All files must be UTF8-without BOM encoded!!!

%sed -e 's/\\section/\\chapter/'          -i Aufgabe*.tex
%sed -e 's/\\subsection/\\section/'       -i Aufgabe*.tex
%sed -e 's/\\subsubsection/\\subsection/' -i Aufgabe*.tex

\input{Protokoll-Einfuehrung.tex}
\input{Protokoll-Spark.tex}
\input{Protokoll-Rootbeer.tex}
\input{Protokoll-Implementation.tex}
\input{Protokoll-Performanceanalyse.tex}
\input{Protokoll-Zusammenfassung.tex}


%\setlength{\headheight}{27pt} % needed because zih-template is buggy as *** and the chapter title is too long for the standard header
%\setlength{\headheight}{17pt}

\appendix

\input{Protokoll-Mittelwert.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Programmausdrücke}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\lstinputlisting[language=bash, inputencoding=latin1, frame=single, caption={\lstinline!start_spark_slurm.sh! enthält Parameter für \lstinline!sbatch!, berechnet nötige Parameter für Spark aus denen von Slurm und startet dann einen Master und mehrere Worker-Prozesse startet}, label=lst:start_spark_slurm.sh]{../start_spark_slurm.sh}

\lstinputlisting[language=bash, inputencoding=latin1, frame=single, caption={\lstinline!startSpark.sh! welche eine Funktion definiert die einen den Sparkslurmjob aus Listing~\ref{lst:start_spark_slurm.sh} startet und Master-IP aus der Logdatei extrahiert}, label=lst:startSpark]{../startSpark.sh}

%\begin{lstlisting}[language=C++,firstnumber=10, caption={Die Trapezregel wie in Formel~\ref{eq:trapeze}}, label=lst:trapezregel]
%    for (uint64_t i=1; i<N-1; i++)
%    {
%    (!!!)
%     dx + f(b);
%\end{lstlisting}\end{minipage}\end{center}

%\begin{eqnarray}
%	\label{eq:n}
%	 a = b
%\end{eqnarray}
%
%\begin{figure}
%	\centering
%	\begin{minipage}{0.7 \linewidth}
%		\includegraphics[width=\linewidth]{Image.pdf}
%	\end{minipage}
%	\caption{captiontext}
%	\label{fig:RTn}
%\end{figure}


% add image(s) on one line without figure-environment, to place it exactly where you want
%\begin{minipage}{\linewidth}\begin{center}\bigskip
%	\captionsetup{type=figure}
%	\begin{minipage}{0.45 \linewidth}
%		\includegraphics[width=\linewidth]{ImageLeft.pdf}
%	\end{minipage}
%	\begin{minipage}{0.45 \linewidth}
%		\includegraphics[width=\linewidth]{ImageRight.pdf}
%	\end{minipage}
%	\captionof{figure}{...}
%	\label{fig:figlabel}
%\bigskip\end{center}\end{minipage}

\end{document}


% Typical problem words of me:
%  - versuchen
%  - zig
%  -
%  -
%  -

